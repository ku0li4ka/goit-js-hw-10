{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast/dist/js/iziToast.min.js';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst datetimePicker = document.getElementById('datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\nfunction addLeadingZero(value) {\n  return value < 10 ? `0${value}` : value;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateTimerDisplay(time) {\n  daysEl.textContent = addLeadingZero(time.days);\n  hoursEl.textContent = addLeadingZero(time.hours);\n  minutesEl.textContent = addLeadingZero(time.minutes);\n  secondsEl.textContent = addLeadingZero(time.seconds);\n}\n\nfunction isFutureDate(selectedDate) {\n  return selectedDate.getTime() > Date.now();\n}\n\nconst currentDate = new Date(); \nconst currentDateTimeString = currentDate.toISOString();\n\nconst fp = flatpickr(datetimePicker, {\n  enableTime: true,\n  time_24hr: true,\n  minuteIncrement: 1,\n  defaultDate: currentDateTimeString, \n  onClose: function(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate && isFutureDate(selectedDate)) {\n      startButton.disabled = false;\n    } else {\n      startButton.disabled = true;\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n    }\n  }\n});\n\nstartButton.addEventListener('click', () => {\n  const selectedDate = fp.selectedDates[0];\n  startButton.disabled = true;\n  fp.input.disabled = true;\n  const targetTime = selectedDate.getTime();\n  const timerInterval = setInterval(() => {\n    const currentTime = Date.now();\n    const remainingTime = targetTime - currentTime;\n        if (remainingTime <= 0) {\n      clearInterval(timerInterval);\n      updateTimerDisplay({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n      fp.input.disabled = false; \n      iziToast.success({\n        title: 'Countdown Finished',\n        message: 'The countdown has ended!',\n      });\n    } else {\n      const time = convertMs(remainingTime);\n      updateTimerDisplay(time);\n    }\n  }, 1000);\n});\n"],"names":["datetimePicker","startButton","daysEl","hoursEl","minutesEl","secondsEl","addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","updateTimerDisplay","time","isFutureDate","selectedDate","currentDate","currentDateTimeString","fp","flatpickr","selectedDates","iziToast","targetTime","timerInterval","currentTime","remainingTime"],"mappings":"0IAMA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACpC,CAEA,SAASC,EAAUC,EAAI,CAKrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,EAAmBC,EAAM,CAChCb,EAAO,YAAcI,EAAeS,EAAK,IAAI,EAC7CZ,EAAQ,YAAcG,EAAeS,EAAK,KAAK,EAC/CX,EAAU,YAAcE,EAAeS,EAAK,OAAO,EACnDV,EAAU,YAAcC,EAAeS,EAAK,OAAO,CACrD,CAEA,SAASC,EAAaC,EAAc,CAClC,OAAOA,EAAa,QAAO,EAAK,KAAK,IAAG,CAC1C,CAEA,MAAMC,EAAc,IAAI,KAClBC,EAAwBD,EAAY,cAEpCE,EAAKC,EAAUrB,EAAgB,CACnC,WAAY,GACZ,UAAW,GACX,gBAAiB,EACjB,YAAamB,EACb,QAAS,SAASG,EAAe,CAC/B,MAAML,EAAeK,EAAc,CAAC,EAChCL,GAAgBD,EAAaC,CAAY,EAC3ChB,EAAY,SAAW,IAEvBA,EAAY,SAAW,GACvBsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EAEJ,CACH,CAAC,EAEDtB,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAMgB,EAAeG,EAAG,cAAc,CAAC,EACvCnB,EAAY,SAAW,GACvBmB,EAAG,MAAM,SAAW,GACpB,MAAMI,EAAaP,EAAa,UAC1BQ,EAAgB,YAAY,IAAM,CACtC,MAAMC,EAAc,KAAK,MACnBC,EAAgBH,EAAaE,EAC/B,GAAIC,GAAiB,EACvB,cAAcF,CAAa,EAC3BX,EAAmB,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EAChEM,EAAG,MAAM,SAAW,GACpBG,EAAS,QAAQ,CACf,MAAO,qBACP,QAAS,0BACjB,CAAO,MACI,CACL,MAAMR,EAAOP,EAAUmB,CAAa,EACpCb,EAAmBC,CAAI,CACxB,CACF,EAAE,GAAI,CACT,CAAC"}